(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[332],{2936:(n,e,t)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return t(3583)}])},3583:(n,e,t)=>{"use strict";t.r(e),t.d(e,{default:()=>E});var r=t(4232),o=t(1040),a=t(8230),i=t.n(a),c=t(7328),s=t.n(c);let l=(n=21)=>{let e="",t=crypto.getRandomValues(new Uint8Array(n|=0));for(;n--;)e+="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict"[63&t[n]];return e};var u=t(5364);function d(n){return(d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(n){return typeof n}:function(n){return n&&"function"==typeof Symbol&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n})(n)}function f(n){return function(n){if(Array.isArray(n))return w(n)}(n)||function(n){if("undefined"!=typeof Symbol&&null!=n[Symbol.iterator]||null!=n["@@iterator"])return Array.from(n)}(n)||v(n)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function p(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})),t.push.apply(t,r)}return t}function m(n){for(var e=1;e<arguments.length;e++){var t=null!=arguments[e]?arguments[e]:{};e%2?p(Object(t),!0).forEach(function(e){g(n,e,t[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):p(Object(t)).forEach(function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(t,e))})}return n}function g(n,e,t){var r;return(r=function(n,e){if("object"!==d(n)||null===n)return n;var t=n[Symbol.toPrimitive];if(void 0!==t){var r=t.call(n,e||"default");if("object"!==d(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(n)}(e,"string"),(e="symbol"===d(r)?r:String(r))in n)?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function h(){h=function(){return e};var n,e={},t=Object.prototype,r=t.hasOwnProperty,o=Object.defineProperty||function(n,e,t){n[e]=t.value},a="function"==typeof Symbol?Symbol:{},i=a.iterator||"@@iterator",c=a.asyncIterator||"@@asyncIterator",s=a.toStringTag||"@@toStringTag";function l(n,e,t){return Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}),n[e]}try{l({},"")}catch(n){l=function(n,e,t){return n[e]=t}}function u(e,t,r,a){var i,c,s,l,u=Object.create((t&&t.prototype instanceof x?t:x).prototype);return o(u,"_invoke",{value:(i=e,c=r,s=new _(a||[]),l=p,function(e,t){if(l===m)throw Error("Generator is already running");if(l===g){if("throw"===e)throw t;return{value:n,done:!0}}for(s.method=e,s.arg=t;;){var r=s.delegate;if(r){var o=function e(t,r){var o=r.method,a=t.iterator[o];if(a===n)return r.delegate=null,"throw"===o&&t.iterator.return&&(r.method="return",r.arg=n,e(t,r),"throw"===r.method)||"return"!==o&&(r.method="throw",r.arg=TypeError("The iterator does not provide a '"+o+"' method")),b;var i=f(a,t.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,b;var c=i.arg;return c?c.done?(r[t.resultName]=c.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=n),r.delegate=null,b):c:(r.method="throw",r.arg=TypeError("iterator result is not an object"),r.delegate=null,b)}(r,s);if(o){if(o===b)continue;return o}}if("next"===s.method)s.sent=s._sent=s.arg;else if("throw"===s.method){if(l===p)throw l=g,s.arg;s.dispatchException(s.arg)}else"return"===s.method&&s.abrupt("return",s.arg);l=m;var a=f(i,c,s);if("normal"===a.type){if(l=s.done?g:"suspendedYield",a.arg===b)continue;return{value:a.arg,done:s.done}}"throw"===a.type&&(l=g,s.method="throw",s.arg=a.arg)}})}),u}function f(n,e,t){try{return{type:"normal",arg:n.call(e,t)}}catch(n){return{type:"throw",arg:n}}}e.wrap=u;var p="suspendedStart",m="executing",g="completed",b={};function x(){}function y(){}function v(){}var w={};l(w,i,function(){return this});var E=Object.getPrototypeOf,k=E&&E(E(A([])));k&&k!==t&&r.call(k,i)&&(w=k);var j=v.prototype=x.prototype=Object.create(w);function S(n){["next","throw","return"].forEach(function(e){l(n,e,function(n){return this._invoke(e,n)})})}function N(n,e){var t;o(this,"_invoke",{value:function(o,a){function i(){return new e(function(t,i){!function t(o,a,i,c){var s=f(n[o],n,a);if("throw"!==s.type){var l=s.arg,u=l.value;return u&&"object"==d(u)&&r.call(u,"__await")?e.resolve(u.__await).then(function(n){t("next",n,i,c)},function(n){t("throw",n,i,c)}):e.resolve(u).then(function(n){l.value=n,i(l)},function(n){return t("throw",n,i,c)})}c(s.arg)}(o,a,t,i)})}return t=t?t.then(i,i):i()}})}function O(n){var e={tryLoc:n[0]};1 in n&&(e.catchLoc=n[1]),2 in n&&(e.finallyLoc=n[2],e.afterLoc=n[3]),this.tryEntries.push(e)}function L(n){var e=n.completion||{};e.type="normal",delete e.arg,n.completion=e}function _(n){this.tryEntries=[{tryLoc:"root"}],n.forEach(O,this),this.reset(!0)}function A(e){if(e||""===e){var t=e[i];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,a=function t(){for(;++o<e.length;)if(r.call(e,o))return t.value=e[o],t.done=!1,t;return t.value=n,t.done=!0,t};return a.next=a}}throw TypeError(d(e)+" is not iterable")}return y.prototype=v,o(j,"constructor",{value:v,configurable:!0}),o(v,"constructor",{value:y,configurable:!0}),y.displayName=l(v,s,"GeneratorFunction"),e.isGeneratorFunction=function(n){var e="function"==typeof n&&n.constructor;return!!e&&(e===y||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(n){return Object.setPrototypeOf?Object.setPrototypeOf(n,v):(n.__proto__=v,l(n,s,"GeneratorFunction")),n.prototype=Object.create(j),n},e.awrap=function(n){return{__await:n}},S(N.prototype),l(N.prototype,c,function(){return this}),e.AsyncIterator=N,e.async=function(n,t,r,o,a){void 0===a&&(a=Promise);var i=new N(u(n,t,r,o),a);return e.isGeneratorFunction(t)?i:i.next().then(function(n){return n.done?n.value:i.next()})},S(j),l(j,s,"Generator"),l(j,i,function(){return this}),l(j,"toString",function(){return"[object Generator]"}),e.keys=function(n){var e=Object(n),t=[];for(var r in e)t.push(r);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=A,_.prototype={constructor:_,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=n,this.done=!1,this.delegate=null,this.method="next",this.arg=n,this.tryEntries.forEach(L),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=n)},stop:function(){this.done=!0;var n=this.tryEntries[0].completion;if("throw"===n.type)throw n.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function o(r,o){return c.type="throw",c.arg=e,t.next=r,o&&(t.method="next",t.arg=n),!!o}for(var a=this.tryEntries.length-1;a>=0;--a){var i=this.tryEntries[a],c=i.completion;if("root"===i.tryLoc)return o("end");if(i.tryLoc<=this.prev){var s=r.call(i,"catchLoc"),l=r.call(i,"finallyLoc");if(s&&l){if(this.prev<i.catchLoc)return o(i.catchLoc,!0);if(this.prev<i.finallyLoc)return o(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return o(i.catchLoc,!0)}else{if(!l)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return o(i.finallyLoc)}}}},abrupt:function(n,e){for(var t=this.tryEntries.length-1;t>=0;--t){var o=this.tryEntries[t];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===n||"continue"===n)&&a.tryLoc<=e&&e<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=n,i.arg=e,a?(this.method="next",this.next=a.finallyLoc,b):this.complete(i)},complete:function(n,e){if("throw"===n.type)throw n.arg;return"break"===n.type||"continue"===n.type?this.next=n.arg:"return"===n.type?(this.rval=this.arg=n.arg,this.method="return",this.next="end"):"normal"===n.type&&e&&(this.next=e),b},finish:function(n){for(var e=this.tryEntries.length-1;e>=0;--e){var t=this.tryEntries[e];if(t.finallyLoc===n)return this.complete(t.completion,t.afterLoc),L(t),b}},catch:function(n){for(var e=this.tryEntries.length-1;e>=0;--e){var t=this.tryEntries[e];if(t.tryLoc===n){var r=t.completion;if("throw"===r.type){var o=r.arg;L(t)}return o}}throw Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:A(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=n),b}},e}function b(n,e,t,r,o,a,i){try{var c=n[a](i),s=c.value}catch(n){t(n);return}c.done?e(s):Promise.resolve(s).then(r,o)}function x(n){return function(){var e=this,t=arguments;return new Promise(function(r,o){var a=n.apply(e,t);function i(n){b(a,r,o,i,c,"next",n)}function c(n){b(a,r,o,i,c,"throw",n)}i(void 0)})}}function y(n,e){return function(n){if(Array.isArray(n))return n}(n)||function(n,e){var t=null==n?null:"undefined"!=typeof Symbol&&n[Symbol.iterator]||n["@@iterator"];if(null!=t){var r,o,a,i,c=[],s=!0,l=!1;try{if(a=(t=t.call(n)).next,0===e){if(Object(t)!==t)return;s=!1}else for(;!(s=(r=a.call(t)).done)&&(c.push(r.value),c.length!==e);s=!0);}catch(n){l=!0,o=n}finally{try{if(!s&&null!=t.return&&(i=t.return(),Object(i)!==i))return}finally{if(l)throw o}}return c}}(n,e)||v(n,e)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function v(n,e){if(n){if("string"==typeof n)return w(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if("Object"===t&&n.constructor&&(t=n.constructor.name),"Map"===t||"Set"===t)return Array.from(n);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return w(n,e)}}function w(n,e){(null==e||e>n.length)&&(e=n.length);for(var t=0,r=Array(e);t<e;t++)r[t]=n[t];return r}function E(){var n,e,t,a,c,d=y((0,r.useState)({Math:[],Science:[],History:[],Language:[],Technology:[],General:[]}),2),p=d[0],b=d[1],v=y((0,r.useState)(""),2),w=v[0],E=v[1],k=y((0,r.useState)(!0),2),j=k[0],S=k[1],N=y((0,r.useState)(!1),2),O=N[0],L=N[1],_=(0,r.useRef)(null),A=y((0,r.useState)(""),2),I=A[0],z=A[1],P=y((0,r.useState)(""),2),T=P[0],D=P[1],C=y((0,r.useState)(!1),2),G=C[0],U=C[1],B=y((0,r.useState)(null),2),F=B[0],M=B[1],Y=y((0,r.useState)(!1),2),q=Y[0],H=Y[1];(0,r.useEffect)(function(){H(!0),X()},[]),(0,r.useEffect)(function(){var n=localStorage.getItem("userId");n||(n=l(),localStorage.setItem("userId",n))},[]);var R=u.env.NEXT_PUBLIC_API_BASE_URL||"http://localhost:3000",X=(n=x(h().mark(function n(){var e,t;return h().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=1,o.A.get("".concat(R,"/api/messages"));case 1:e=n.sent,t={Math:[],Science:[],History:[],Language:[],Technology:[],General:[]},e.data.forEach(function(n){var e=["Math","Science","History","Language","Technology","General"],r=n.subject||"";t[e.includes(r)?r:"General"].push(n)}),Object.keys(t).forEach(function(n){t[n].sort(function(n,e){return new Date(n.createdAt)-new Date(e.createdAt)})}),b(t),S(!1),n.next=3;break;case 2:n.prev=2,console.error("Error fetching messages:",n.catch(0)),S(!1);case 3:case"end":return n.stop()}},n,null,[[0,2]])})),function(){return n.apply(this,arguments)}),V=function(n){if((n=n.toLowerCase()).includes("math")||n.includes("equation")||n.includes("calculate")||n.includes("algebra")||n.includes("geometry")||n.includes("number"))return"Math";if(n.includes("science")||n.includes("biology")||n.includes("chemistry")||n.includes("physics")||n.includes("molecule")||n.includes("atom"))return"Science";if(n.includes("history")||n.includes("war")||n.includes("century")||n.includes("ancient")||n.includes("civilization"))return"History";if(n.includes("language")||n.includes("grammar")||n.includes("vocabulary")||n.includes("word")||n.includes("sentence")||n.includes("speak"))return"Language";if(n.includes("technology")||n.includes("computer")||n.includes("software")||n.includes("program")||n.includes("code")||n.includes("internet"))return"Technology";return"General"},W=function(n){I!==n&&z(n)},J=function(){var n={};return Object.keys(p).forEach(function(e){n[e]=p[e].filter(function(n){return n.isUser}).length}),n},K=function(n){M(n),U(!0)},Q=(e=x(h().mark(function n(){var e;return h().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(F){n.next=1;break}return n.abrupt("return");case 1:return n.prev=1,S(!0),n.next=2,o.A.delete("".concat(R,"/api/messages/subject/").concat(F));case 2:e=n.sent,b(function(n){return m(m({},n),{},g({},F,[]))}),D("Cleared ".concat(e.data.deletedCount," messages from ").concat(F)),setTimeout(function(){return D("")},3e3),n.next=4;break;case 3:n.prev=3,console.error("Error clearing messages:",n.catch(1)),D("Error: Could not clear ".concat(F," messages")),setTimeout(function(){return D("")},3e3);case 4:return n.prev=4,U(!1),M(null),S(!1),n.finish(4);case 5:case"end":return n.stop()}},n,null,[[1,3,4,5]])})),function(){return e.apply(this,arguments)}),Z=(t=x(h().mark(function n(e){var t,r,a,i,c,s;return h().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(e.preventDefault(),w.trim()){n.next=1;break}return n.abrupt("return");case 1:return n.prev=1,L(!0),t=w,E(""),r=V(t),a=I||r,i={_id:Date.now().toString(),text:t,isUser:!0,subject:a,createdAt:new Date().toISOString()},b(function(n){return m(m({},n),{},g({},a,[].concat(f(n[a]),[i])))}),n.next=2,o.A.post("".concat(R,"/api/messages"),{text:t,subject:a,sessionId:"test-session"});case 2:c=n.sent,b(function(n){var e=f(n[a]);return(e=e.filter(function(n){return n._id!==i._id})).push(c.data.userMessage,c.data.aiMessage),m(m({},n),{},g({},a,e))}),I||W(a),n.next=4;break;case 3:n.prev=3,console.error("Error posting message:",n.catch(1)),s=I||"General",b(function(n){return m(m({},n),{},g({},s,[].concat(f(n[s]),[{_id:Date.now().toString(),text:"Sorry, I couldn't process your request. Please try again later.",isUser:!1,subject:s,createdAt:new Date().toISOString()}])))});case 4:return n.prev=4,L(!1),n.finish(4);case 5:case"end":return n.stop()}},n,null,[[1,3,4,5]])})),function(n){return t.apply(this,arguments)});(0,r.useEffect)(function(){if(q){var n=setTimeout(function(){_.current&&_.current.scrollIntoView({behavior:"smooth"})},100);return function(){return clearTimeout(n)}}},[I,p,O,q]);var $=I?p[I]||[]:(a=[]).concat.apply(a,f(Object.values(p))),nn={};return(Object.keys(p).forEach(function(n){nn[n]=p[n].length}),q)?r.createElement(r.Fragment,null,r.createElement(s(),null,r.createElement("title",null,"BrainBytes AI Tutor"),r.createElement("meta",{name:"viewport",content:"width=device-width, initial-scale=1.0"}),r.createElement("link",{href:"https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap",rel:"stylesheet"})),r.createElement("div",{className:"container"},r.createElement("header",null,r.createElement("h1",null,"BrainBytes AI Tutor"),r.createElement("nav",null,r.createElement(i(),{href:"/dashboard"},"Dashboard"),r.createElement(i(),{href:"/profile"},"Profile"))),T&&r.createElement("div",{className:"notification"},T),r.createElement("div",{className:"subject-filters"},r.createElement("button",{className:"filter-btn ".concat(""===I?"active":""),onClick:function(){return W("")}},"All (",(c=[]).concat.apply(c,f(Object.values(p))).filter(function(n){return n.isUser}).length,")"),Object.keys(p).map(function(n){var e=J()[n];return r.createElement("button",{key:n,className:"filter-btn ".concat(I===n?"active":""),onClick:function(){return W(n)}},r.createElement("span",{className:"filter-content"},r.createElement("span",null,n),r.createElement("span",{className:"count-badge"},e)),p[n].length>0&&r.createElement("span",{className:"clear-icon",onClick:function(e){e.stopPropagation(),K(n)},title:"Clear all ".concat(n," messages")},"\uD83D\uDDD1️"))})),r.createElement("div",{className:"messages-container"},j?r.createElement("div",{className:"loading"},r.createElement("div",{className:"spinner"}),r.createElement("p",null,"Loading conversation history...")):r.createElement("div",{className:"messages-list"},0===$.length?r.createElement("div",{className:"empty-state"},r.createElement("div",{className:"empty-icon"},"\uD83D\uDCAC"),r.createElement("h3",null,"Welcome to BrainBytes AI Tutor!"),r.createElement("p",null,I?"Start a new conversation about ".concat(I,"!"):"Ask me any question about math, science, history, or other subjects.")):r.createElement("ul",null,$.map(function(n){return r.createElement("li",{key:n._id,className:"message ".concat(n.isUser?"user":"ai")},r.createElement("div",{className:"message-content"},n.text),r.createElement("div",{className:"message-meta"},r.createElement("span",{className:"sender"},n.isUser?"You":"AI Tutor"),r.createElement("span",{className:"separator"},"•"),r.createElement("span",{className:"time"},new Date(n.createdAt).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})),n.subject&&!I&&r.createElement(r.Fragment,null,r.createElement("span",{className:"separator"},"•"),r.createElement("span",{className:"subject-tag"},n.subject))))}),O&&r.createElement("li",{className:"message ai typing"},r.createElement("div",{className:"typing-indicator"},r.createElement("span",null),r.createElement("span",null),r.createElement("span",null)),r.createElement("div",{className:"message-meta"},r.createElement("span",null,"AI Tutor is thinking..."))),r.createElement("div",{ref:_})))),r.createElement("form",{onSubmit:Z,className:"message-form"},r.createElement("input",{type:"text",value:w,onChange:function(n){return E(n.target.value)},placeholder:I?"Ask a question about ".concat(I,"..."):"Ask a question...",disabled:O}),r.createElement("button",{type:"submit",disabled:O},O?"Sending...":"Send")),G&&r.createElement("div",{className:"modal-overlay"},r.createElement("div",{className:"modal"},r.createElement("div",{className:"modal-header"},r.createElement("div",{className:"modal-icon"},"⚠️"),r.createElement("h3",null,"Delete Confirmation")),r.createElement("p",null,"Are you sure you want to clear all ",F," messages? This cannot be undone."),r.createElement("div",{className:"modal-actions"},r.createElement("button",{className:"cancel-btn",onClick:function(){return U(!1)}},"Cancel"),r.createElement("button",{className:"delete-btn",onClick:Q},"Delete"))))),r.createElement("style",{jsx:!0,global:!0},"\n        * {\n          margin: 0;\n          padding: 0;\n          box-sizing: border-box;\n        }\n\n        body {\n          font-family:\n            'Inter',\n            -apple-system,\n            BlinkMacSystemFont,\n            sans-serif;\n          color: #333;\n          background-color: #f5f7fa;\n          line-height: 1.6;\n        }\n\n        .container {\n          max-width: 900px;\n          margin: 0 auto;\n          padding: 20px;\n          height: 100vh;\n          display: flex;\n          flex-direction: column;\n        }\n\n        header {\n          display: flex;\n          justify-content: space-between;\n          align-items: center;\n          margin-bottom: 24px;\n          padding-bottom: 16px;\n          border-bottom: 1px solid #eaedf3;\n        }\n\n        header h1 {\n          font-size: 1.75rem;\n          font-weight: 700;\n          color: #1a56db;\n          margin: 0;\n        }\n\n        header nav {\n          display: flex;\n          gap: 16px;\n        }\n\n        header nav a {\n          color: #4b5563;\n          text-decoration: none;\n          font-weight: 500;\n          transition: color 0.2s;\n          padding: 6px 10px;\n          border-radius: 6px;\n        }\n\n        header nav a:hover {\n          color: #1a56db;\n          background-color: rgba(26, 86, 219, 0.05);\n        }\n\n        .notification {\n          background-color: #eef6ff;\n          color: #1e40af;\n          padding: 12px 16px;\n          border-radius: 8px;\n          margin-bottom: 20px;\n          text-align: center;\n          font-weight: 500;\n          animation: fadeIn 0.3s ease-in-out;\n          border-left: 4px solid #3b82f6;\n        }\n\n        .subject-filters {\n          display: flex;\n          flex-wrap: wrap;\n          gap: 8px;\n          margin-bottom: 20px;\n          padding-bottom: 16px;\n          border-bottom: 1px solid #eaedf3;\n          overflow-x: auto;\n          -webkit-overflow-scrolling: touch;\n          scrollbar-width: thin;\n        }\n\n        .subject-filters button {\n          padding: 8px 16px;\n          background-color: #ffffff;\n          color: #4b5563;\n          border: 1px solid #e5e7eb;\n          border-radius: 8px;\n          font-size: 0.875rem;\n          font-weight: 500;\n          cursor: pointer;\n          transition: all 0.2s;\n          white-space: nowrap;\n          display: flex;\n          align-items: center;\n          gap: 8px;\n        }\n\n        .subject-filters button:hover {\n          background-color: #f9fafb;\n          border-color: #d1d5db;\n        }\n\n        .subject-filters button.active {\n          background-color: #1a56db;\n          color: white;\n          border-color: #1a56db;\n        }\n\n        .count-badge {\n          background-color: rgba(255, 255, 255, 0.2);\n          color: inherit;\n          font-size: 0.75rem;\n          font-weight: 600;\n          padding: 2px 8px;\n          border-radius: 12px;\n          display: inline-flex;\n          align-items: center;\n          justify-content: center;\n          min-width: 20px;\n        }\n\n        button:not(.active) .count-badge {\n          background-color: #e5e7eb;\n          color: #4b5563;\n        }\n\n        .messages-container {\n          flex: 1;\n          background-color: #ffffff;\n          border-radius: 12px;\n          box-shadow:\n            0 4px 6px -1px rgba(0, 0, 0, 0.05),\n            0 2px 4px -1px rgba(0, 0, 0, 0.03);\n          margin-bottom: 24px;\n          overflow: hidden;\n          display: flex;\n          flex-direction: column;\n          max-height: calc(100vh - 220px); /* Set a max height */\n        }\n\n        .messages-list {\n          flex: 1;\n          overflow-y: auto;\n          padding: 20px;\n          -webkit-overflow-scrolling: touch;\n          scrollbar-width: thin;\n          scrollbar-color: #cbd5e1 #f8fafc;\n          display: flex;\n          flex-direction: column; /* Ensure vertical stacking */\n        }\n\n        .messages-list ul {\n          list-style-type: none;\n          padding: 0;\n          margin: 0;\n          width: 100%;\n          display: flex;\n          flex-direction: column;\n        }\n\n        .message {\n          margin-bottom: 16px;\n          max-width: 80%;\n          position: relative;\n          animation: fadeIn 0.3s ease;\n          display: flex;\n          flex-direction: column;\n        }\n\n        .message.user {\n          align-self: flex-end;\n          margin-left: auto; /* Properly align to the right */\n        }\n\n        .message.ai {\n          align-self: flex-start;\n          margin-right: auto; /* Properly align to the left */\n        }\n\n        .message-content {\n          padding: 12px 16px;\n          border-radius: 12px;\n          line-height: 1.5;\n        }\n\n        .user .message-content {\n          background-color: #1a56db;\n          color: white;\n          border-bottom-right-radius: 2px;\n          border-top-right-radius: 8px;\n          border-top-left-radius: 12px;\n          border-bottom-left-radius: 12px;\n        }\n\n        .ai .message-content {\n          background-color: #f3f4f6;\n          color: #1f2937;\n          border-bottom-left-radius: 2px;\n          border-top-right-radius: 12px;\n          border-top-left-radius: 8px;\n          border-bottom-right-radius: 12px;\n        }\n\n        .message-meta {\n          font-size: 0.75rem;\n          margin-top: 6px;\n          display: flex;\n          align-items: center;\n          gap: 6px;\n          opacity: 0.8;\n        }\n\n        .user .message-meta {\n          justify-content: flex-end;\n          padding-right: 4px;\n        }\n\n        .ai .message-meta {\n          padding-left: 4px;\n        }\n\n        .separator {\n          font-size: 0.6rem;\n          opacity: 0.6;\n        }\n\n        .subject-tag {\n          padding: 2px 8px;\n          border-radius: 12px;\n          font-size: 0.7rem;\n          font-weight: 500;\n        }\n\n        .user .subject-tag {\n          background-color: rgba(255, 255, 255, 0.2);\n          color: #1a56db;\n        }\n\n        .ai .subject-tag {\n          background-color: #e5e7eb;\n          color: #4b5563;\n        }\n\n        .empty-state {\n          display: flex;\n          flex-direction: column;\n          align-items: center;\n          justify-content: center;\n          text-align: center;\n          height: 100%;\n          padding: 40px 20px;\n          color: #6b7280;\n        }\n\n        .empty-icon {\n          font-size: 3rem;\n          margin-bottom: 16px;\n          opacity: 0.8;\n        }\n\n        .empty-state h3 {\n          font-size: 1.25rem;\n          font-weight: 600;\n          margin-bottom: 8px;\n          color: #111827;\n        }\n\n        .loading {\n          display: flex;\n          flex-direction: column;\n          align-items: center;\n          justify-content: center;\n          height: 100%;\n          gap: 16px;\n          color: #6b7280;\n        }\n\n        .spinner {\n          width: 40px;\n          height: 40px;\n          border: 3px solid rgba(59, 130, 246, 0.2);\n          border-top-color: #3b82f6;\n          border-radius: 50%;\n          animation: spin 1s linear infinite;\n        }\n\n        .typing-indicator {\n          display: flex;\n          align-items: center;\n          gap: 4px;\n          padding: 12px 16px;\n        }\n\n        .typing-indicator span {\n          width: 8px;\n          height: 8px;\n          background-color: #9ca3af;\n          border-radius: 50%;\n          animation: bounce 1.4s infinite ease-in-out;\n        }\n\n        .typing-indicator span:nth-child(1) {\n          animation-delay: -0.32s;\n        }\n\n        .typing-indicator span:nth-child(2) {\n          animation-delay: -0.16s;\n        }\n\n        .message-form {\n          display: flex;\n          gap: 12px;\n          position: relative;\n        }\n\n        .message-form input {\n          flex: 1;\n          padding: 14px 20px;\n          border: 1px solid #e5e7eb;\n          background-color: #ffffff;\n          border-radius: 12px;\n          font-size: 1rem;\n          outline: none;\n          transition:\n            border-color 0.2s,\n            box-shadow 0.2s;\n        }\n\n        .message-form input:focus {\n          border-color: #3b82f6;\n          box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.25);\n        }\n\n        .message-form input::placeholder {\n          color: #9ca3af;\n        }\n\n        .message-form input:disabled {\n          background-color: #f9fafb;\n          cursor: not-allowed;\n        }\n\n        .message-form button {\n          padding: 14px 24px;\n          background-color: #1a56db;\n          color: white;\n          border: none;\n          border-radius: 12px;\n          font-size: 1rem;\n          font-weight: 500;\n          cursor: pointer;\n          transition: background-color 0.2s;\n          white-space: nowrap;\n        }\n\n        .message-form button:hover {\n          background-color: #1e429f;\n        }\n\n        .message-form button:disabled {\n          background-color: #93c5fd;\n          cursor: not-allowed;\n        }\n\n        /* Animations */\n        @keyframes fadeIn {\n          from {\n            opacity: 0;\n            transform: translateY(10px);\n          }\n          to {\n            opacity: 1;\n            transform: translateY(0);\n          }\n        }\n\n        @keyframes spin {\n          to {\n            transform: rotate(360deg);\n          }\n        }\n\n        @keyframes bounce {\n          0%,\n          80%,\n          100% {\n            transform: scale(0);\n          }\n          40% {\n            transform: scale(1);\n          }\n        }\n\n        /* Responsive styles */\n        @media (max-width: 768px) {\n          .container {\n            padding: 16px;\n            height: 100vh;\n          }\n\n          header {\n            margin-bottom: 16px;\n          }\n\n          header h1 {\n            font-size: 1.5rem;\n          }\n\n          .messages-container {\n            margin-bottom: 16px;\n          }\n\n          .message {\n            max-width: 90%;\n          }\n        }\n\n        @media (max-width: 640px) {\n          .subject-filters {\n            padding-bottom: 12px;\n            margin-bottom: 12px;\n          }\n\n          .subject-filters button {\n            padding: 6px 12px;\n            font-size: 0.8125rem;\n          }\n\n          .message-form {\n            flex-direction: column;\n            gap: 8px;\n          }\n\n          .message-form input,\n          .message-form button {\n            width: 100%;\n            border-radius: 8px;\n            padding: 12px 16px;\n          }\n\n          .message {\n            max-width: 95%;\n          }\n        }\n\n        .modal-overlay {\n          position: fixed;\n          top: 0;\n          left: 0;\n          right: 0;\n          bottom: 0;\n          background-color: rgba(0, 0, 0, 0.75);\n          backdrop-filter: blur(5px);\n          -webkit-backdrop-filter: blur(5px);\n          display: flex;\n          justify-content: center;\n          align-items: center;\n          z-index: 1000;\n          animation: fadeIn 0.25s cubic-bezier(0.16, 1, 0.3, 1);\n        }\n\n        header {\n          flex-direction: column;\n          align-items: flex-start;\n          gap: 10px;\n        }\n\n        header nav {\n          width: 100%;\n          justify-content: flex-start;\n        }\n        .filter-btn {\n          padding: 8px 16px;\n          background-color: #ffffff;\n          color: #4b5563;\n          border: 1px solid #e5e7eb;\n          border-radius: 8px;\n          font-size: 0.875rem;\n          font-weight: 500;\n          cursor: pointer;\n          transition: all 0.2s;\n          white-space: nowrap;\n          display: flex;\n          align-items: center;\n          justify-content: space-between;\n          gap: 8px;\n        }\n\n        .filter-content {\n          display: flex;\n          align-items: center;\n          gap: 8px;\n        }\n\n        .count-badge {\n          background-color: #e5e7eb;\n          color: #4b5563;\n          font-size: 0.75rem;\n          font-weight: 600;\n          padding: 2px 8px;\n          border-radius: 12px;\n          display: inline-flex;\n          align-items: center;\n          justify-content: center;\n          min-width: 20px;\n        }\n\n        .filter-btn.active .count-badge {\n          background-color: rgba(255, 255, 255, 0.2);\n          color: inherit;\n        }\n\n        .clear-icon {\n          font-size: 0.8rem;\n          opacity: 0.6;\n          padding: 2px 4px;\n          border-radius: 4px;\n          transition: all 0.2s;\n          margin-left: 2px;\n        }\n\n        .clear-icon:hover {\n          opacity: 1;\n          background-color: rgba(239, 68, 68, 0.1);\n        }\n\n        .filter-btn.active .clear-icon {\n          color: white;\n        }\n\n        .filter-btn.active .clear-icon:hover {\n          background-color: rgba(255, 255, 255, 0.2);\n        }\n\n        .clear-subject-btn {\n          position: absolute;\n          top: -8px;\n          right: -6px;\n          width: 16px;\n          height: 16px;\n          background-color: #e5e7eb;\n          color: #6b7280;\n          border: none;\n          border-radius: 50%;\n          font-size: 12px;\n          display: flex;\n          align-items: center;\n          justify-content: center;\n          cursor: pointer;\n          transition: all 0.2s;\n          padding: 0;\n          line-height: 1;\n        }\n\n        .clear-subject-btn:hover {\n          background-color: #ef4444;\n          color: white;\n        }\n\n        .modal {\n          background-color: white;\n          border-radius: 20px;\n          padding: 32px;\n          width: 90%;\n          max-width: 450px;\n          box-shadow:\n            0 20px 25px -5px rgba(0, 0, 0, 0.2),\n            0 10px 10px -5px rgba(0, 0, 0, 0.15);\n          animation: modalSlideIn 0.35s cubic-bezier(0.16, 1, 0.3, 1);\n          transform-origin: center;\n          overflow: hidden;\n          border: 1px solid rgba(255, 255, 255, 0.1);\n        }\n\n        @keyframes modalSlideIn {\n          from {\n            opacity: 0;\n            transform: scale(0.95);\n          }\n          to {\n            opacity: 1;\n            transform: scale(1);\n          }\n        }\n\n        .modal-header {\n          display: flex;\n          align-items: center;\n          margin-bottom: 24px;\n        }\n\n        .modal-icon {\n          background-color: rgba(239, 68, 68, 0.15);\n          color: #ef4444;\n          width: 48px;\n          height: 48px;\n          border-radius: 50%;\n          display: flex;\n          align-items: center;\n          justify-content: center;\n          margin-right: 20px;\n          font-size: 1.5rem;\n          box-shadow: 0 0 0 8px rgba(239, 68, 68, 0.05);\n        }\n\n        .modal h3 {\n          margin: 0;\n          color: #111827;\n          font-size: 1.4rem;\n          font-weight: 600;\n        }\n\n        .modal p {\n          margin-bottom: 32px;\n          color: #4b5563;\n          padding-left: 68px; /* Increased to align with larger icon */\n          line-height: 1.6;\n          font-size: 1.05rem;\n        }\n\n        .modal-actions {\n          display: flex;\n          justify-content: flex-end;\n          gap: 16px;\n        }\n\n        .cancel-btn {\n          padding: 12px 24px;\n          background-color: transparent;\n          color: #4b5563;\n          border: 1px solid #e5e7eb;\n          border-radius: 12px;\n          font-size: 1rem;\n          font-weight: 500;\n          cursor: pointer;\n          transition: all 0.2s;\n        }\n\n        .cancel-btn:hover {\n          background-color: #f3f4f6;\n          border-color: #d1d5db;\n        }\n\n        .delete-btn {\n          padding: 12px 24px;\n          background-color: #ef4444;\n          color: white;\n          border: none;\n          border-radius: 12px;\n          font-size: 1rem;\n          font-weight: 500;\n          cursor: pointer;\n          transition: all 0.2s;\n          box-shadow: 0 1px 3px rgba(239, 68, 68, 0.3);\n        }\n\n        .delete-btn:hover {\n          background-color: #dc2626;\n          transform: translateY(-2px);\n          box-shadow: 0 4px 8px rgba(239, 68, 68, 0.25);\n        }\n\n        .delete-btn:active {\n          transform: translateY(0);\n          box-shadow: 0 1px 3px rgba(239, 68, 68, 0.2);\n        }\n\n        /* Add responsive adjustments in your media queries */\n        @media (max-width: 480px) {\n          .modal {\n            padding: 24px;\n            max-width: 90%;\n          }\n\n          .modal-icon {\n            width: 40px;\n            height: 40px;\n            font-size: 1.25rem;\n            margin-right: 16px;\n          }\n\n          .modal p {\n            padding-left: 56px;\n            font-size: 1rem;\n          }\n\n          .modal-actions {\n            gap: 12px;\n          }\n\n          .cancel-btn,\n          .delete-btn {\n            padding: 10px 18px;\n            font-size: 0.9rem;\n          }\n        }\n      ")):r.createElement("div",{className:"container"},"Loading...")}}},n=>{var e=e=>n(n.s=e);n.O(0,[442,636,593,792],()=>e(2936)),_N_E=n.O()}]);